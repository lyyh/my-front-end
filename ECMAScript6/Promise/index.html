<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html;charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="renderer" content="webkit">
<meta content="width=device-width,initial-scale=1.0,maximum-scale=1, user-scalable=no" name="viewport">
<title>Examples</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
</head>
<body>
   <script type="text/javascript">

   		// let xhrFun = () => {
     //        return new Promise((resolve,rejected)=> {
     //           let xmlHttp = new XMLHttpRequest();
     //           xmlHttp.onreadystatechange = () => {
     //           if(xmlHttp.readyState == 4 && xmlHttp.status == 200){
     //                 resolve(xmlHttp.responseText);
     //                 // console.log('responseText is',xmlHttp.responseText);
     //              }else{
     //                 rejected(xmlHttp.status);
     //                 // console.log()
     //              }
     //           }
     //           xmlHttp.open('get',"http://localhost:3000/data",true);
     //           xmlHttp.send();
     //        })
   		// }

     //     xhrFun()
     //     .then(text => {
     //        console.log('responseText is',text);
     //     })
     //     .then(error => {
     //        console.log(error)
     //     })

     // function Foo(){
     //     this.a = 1;
     // }
     // class Foo{
     //  constructor(props) {
     //     super(props);
     //     this.a = 1;
     //  }
     // }
   //   var obj = {
   //       birth: 1990,
   //       getAge: function () {
   //          var b = this.birth; // 1990
   //          var fn = function () {
   //              console.log(this.birth)
   //              return new Date().getFullYear() - this.birth; // this指向window或undefined
   //          };
   //       return fn;
   //    }
   // };
   // console.log(obj.getAge()())
   // function Foo(){
   //    this.getA = function(){
   //      return () => {
   //       console.log(this)
   //      } 
   //    }
   // }
   // var foo = new Foo();
   // foo.getA()()
   var obj = {
      birth: 1990,
      getA: function(year){
         var b = this.birth;
         var fn = y => y - this.birth;
         return fn.call({birth:1950},year) 
      }
   }
   console.log(obj.getA(2015))
   </script>
</body>
</html>