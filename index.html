<HTML>

<HEAD>
    <TITLE>Calc Days</TITLE>
    <script language="JavaScript">
    // 计算两个日期的间隔天数    
    function Computation() {
        var aDate, oDate1, oDate2, iDays
        var sDate1 = document.getElementById("date1").value; //sDate1和sDate2是2008-12-13格式   
        var sDate2 = document.getElementById("date2").value;
        aDate = sDate1.split("-")
        oDate1 = new Date(aDate[1] + '-' + aDate[2] + '-' + aDate[0]) //转换为12-13-2008格式      
        aDate = sDate2.split("-")
        oDate2 = new Date(aDate[1] + '-' + aDate[2] + '-' + aDate[0])
        iDays = parseInt(Math.abs(oDate1 - oDate2) / 1000 / 60 / 60 / 24) + 1; //把相差的毫秒数转换为天数      
        //alert(iDays);    
        document.getElementById("dateresult").innerText = "两个日期相差" + iDays + "天";
    }


    function compareDate(start, end) {
        if (start == null || start.length == 0 || end == null || end.length == 0) {
            return 0;
        }

        var arr = start.split("-");
        var starttime = new Date(arr[0], parseInt(arr[1] - 1), arr[2]);
        var starttimes = starttime.getTime();

        var arrs = end.split("-");
        var endtime = new Date(arrs[0], parseInt(arrs[1] - 1), arrs[2]);
        var endtimes = endtime.getTime();

        var intervalTime = endtimes - starttimes; //两个日期相差的毫秒数 一天86400000毫秒 
        var Inter_Days = ((intervalTime).toFixed(2) / 86400000) + 1; //加1，是让同一天的两个日期返回一天 

        return Inter_Days;
    }
    console.log(compareDate('2016-12-18','2017-02-05'))
    </script>
</HEAD>

<BODY>
    <label>Date1:</label>
    <input type="text" id="date1" value="2012-02-28" />
    <label>Date2:</label>
    <input type="text" id="date2" value="2012-03-01" />
    <br/>
    <input type="button" value="计算相差天数" onclick="Computation()" />
    <p id="dateresult" style="font:'40';color:'#FF8000'">两个日期相差:</p>
</BODY>

</HTML>
