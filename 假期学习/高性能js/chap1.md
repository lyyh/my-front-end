## 加载和执行
把js放在</body>结束标签之前而不是<head></head>标签内部能够避免浏览器阻塞，提升用户体验。由于浏览器单线程导致：
事实上，多数浏览器使用单一进程来处理用户界面（UI）刷新和javascript脚本执行，所以同一时刻只能做一件事。

## 数据存取
```
每一个js函数都会带有一个叫做[[Scope]]的内部属性，也就是该函数的作用域链，它决定了哪些数据能被函数访问。
```
在作用于链中查找变量由性能上的问题，而js性能恰恰是随着解析标识符深度的增加而降低，所以在最佳实践里，往往是通过把一个较深的变量赋值给一个局部变量，在函数内部直接调用这个局部变量来提升性能。    

使用原型链解决，与前文关于解析标识符的原理类似，要调用一个对象中的方法，首先会从这个对象实例中查找，若找不到，则会沿着其原型链一步一步由近到远地往上查找，其性能也是随之下降的。  

另外，书上也讨论到了关于“嵌套成员”的问题。比如window.location.href，它会先找到window对象，然后查找嵌套于内的location对象，再找到这里面的href属性，前前后后套了多层，在性能上也有着一定的花销。所以在实际的编码过程中，我们更多时候会面对的往往是这种嵌套成员的问题，时刻记得缓存对象成员的值，在执行完毕后利用cacheObj = null的方式释放缓存，可以有效地提高性能，如下例子：
```
// bad
document.querySelector('.xxx').style.margin = 10 + 'px'
document.querySelector('.xxx').style.padding = 10 + 'px'
document.querySelector('.xxx').style.color = 'pink'

// good
const xxxStyle = document.querySelector('.xxx').style
xxxStyle.margin = 10 + 'px'
xxxStyle.padding = 10 + 'px'
xxxStyle.color = 'pink'
xxxStyle = null
```

## 浏览器中的DOM
这一章节详细介绍了关于dom操作的一系列问题。首先要明确一个知识点就是dom操作是具有“天生就慢”的问题。为什么会如此呢？因为在浏览器里面，处理html和js是两套不同的机制，他们通过接口来进行联系的  

dom操作往往容易引起浏览器的重绘与重排。重排，指的是页面的布局和几何属性改变时所发生的事情；重绘，是指把dom元素绘制到屏幕上面的过程。  

会造成性能问题的，往往来自于重排，因为浏览器需要重新计算页面所有元素的大小与位置，然后把它们安置在正确的地方。所以，要提升页面的性能，很重要的一个举措就是避免页面的重排。  

提升性能的方式:
1.通过缓存机制，减少对DOM元素属性的查找   
2.以及批量修改变量再一次性更新dom的办法去减少查询与修改。  
3.脱离文档流。让元素脱离文档流也是一个很好的方法。因为元素一旦脱离文档流，它对其他元素的影响几乎为零，性能的损耗就能够有效局限于一个较小的范围。  
4.利用事件委托。往dom元素上绑定事件也是引起性能问题的元凶。利用浏览器自带的冒泡或捕获机制，可以通过事件委托的方式减少事件处理器的数量，从而把性能优化得更好。  

## 算法和流程控制
1.for-in循环的性能最慢。每次迭代都会同事搜索实例或原型属性，导致其性能只有其它类型速度的1/7。则需要通过尽量减少循环次数，减轻每次循环的工作量的方式提升性能。  
2.递归算法，最好的提升性能方法是缓存上次执行的结果，在下一次递归的时候直接引用而非从头开始计算。  

## 快速响应用户界面
1.由于浏览器是单线程运作的，在处理UI事件的时候无法处理js事件，反之亦然，所以对于耗时过长的js任务来说，可以使用定时器的方法使其让出线程控制权，让浏览器优先处理UI事件以提升用户体验。  
2.html5新增的web worker允许多开线程，意味着耗时较长、性能损耗较大的js任务可以放到web worker中进行，而无需阻塞浏览器UI线程的执行。值得注意的是，web worker无法使用浏览器相关的资源，所以无法用以进行dom操作等。  
## AJAX
ajax技术已经是如今的主流技术，在这里就无需赘述了。书上关于其性能优化的内容，多集中在浏览器资源缓存上。如果能够有效利用浏览器的缓存机制，可以大大减少与服务端的交互，提升性能。  

## 其他
代码合并、压缩，服务端开启gzip等工作，随着http2的发展，网页的性能更会得到提高，可能传统”文件合并“这一工作会逐渐被摒弃。另外http2的服务端推送也能极大地提升页面加载速度。
## 参数资料
[js高性能](https://segmentfault.com/a/1190000008364597)