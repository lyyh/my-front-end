## 发送端接收端
发送端在层与层间传输数据时，没经过一层都会被加上首部信息，接收端每经过一层都会删除一条首部  

### 请求报文和响应报文
请求报文是由请求方法，URL，协议版本，可选的请求首部字段和内容实体构成。    
响应报文基本上由协议版本，状态码，用以解释状态的原因短语，可选的响应首部字段以及实体主体构成。  


### HTTP与cookie
http是不保存状态的协议，发送的请求和响应不做持久化处理。这时候就可以引入Cookie技术用于状态管理。Cookie 会根据响应报文中的 Set-Cookie 字段来通知客户端自动保存 Cookie。下次请求时会自动发送 Cookie，服务器会比对数据得到状态结果。  

### Post与Get
先引入副作用和幂等的概念。

副作用指对服务器上的资源做改变，搜索是无副作用的，注册是副作用的。  

幂等指发送 M 和 N 次请求（两者不相同且都大于1），服务器上资源的状态一致。注册10个和11个帐号是不幂等的，对文章进行更改10次和11次是幂等的。  

在规范的应用场景上说，Get 多用于无副作用，幂等的场景，例如搜索关键字。Post 多用于副作用，不幂等的场景，例如注册。  

#### 技术上的区别来讲
1.Get 请求能缓存，Post 不能  
2.Post 相对 Get 安全一点点，因为Get 请求都包含在 URL 里，且会被浏览器保存历史纪录，Post 不会，但是在抓包的情况下都是一样的。  
3.Post 可以通过 request body来传输比 Get 更多的数据，Get 没有这个技术
URL有长度限制，会影响 Get 请求，但是这个长度限制是浏览器规定的，不是 RFC 规定的。长度限制，也是限制的是整个 URI 长度，而不仅仅是你的参数值数据长度。
GET提交的数据大小，不同浏览器的限制不同，一般在2k-8K之间，POST提交数据比较大，大小靠服务器的设定值限制，而且某些数据只能用 POST 方法「携带」，比如 file。  
4.Post 支持更多的编码类型且不对数据类型限制 
5.于TCP而言，通信次数越多反而靠性越低，能在一次连结中传输完需要的消息是最可靠的，尽量使用GET请求来减少网络耗时。如果通信时间增加，这段时间客户端与服务器端一直保持连接状态，在服务器侧负载可能会增加，可靠性会下降。 
6.、GET 的本质是「得」，而 POST 的本质是「给」。而且，GET 是「幂等」的，在这一点上，GET 被认为是「安全的」。但实际上 server 端也可以用作资源更新，但是这种用法违反了约定，容易造成 CSRF（跨站请求伪造）。  

### HTTP首部
通用首部
指请求报文和响应报文都可以使用的字段
```
Cache-Control
no-cache 指客户端不缓存过期资源
no-store 指不进行缓存
max-age 指缓存资源的缓存时间比指定的值小，那么客户端就接受缓存资源，且缓存服务器不对资源有效性进行再次确认
Connection 指控制不再转发给代理的首部字段（Hop-by-hop），管理持久连接
close 指服务器像明确断开连接
Keep-Alive 指保存持久连接，HTTP/1.1前默认连接是非持久性的，如需要保存持久连接，需要增加此字段
Upgrade 可以用来指定一个完全不同的通信协议，对于这个字段，服务器可以返回101状态码
请求首部字段
```

```
Accept 指用户代理能够处理的媒体类型及媒体类型的相对优先级
Accept-Encoding 指用来告知服务器用户代理支持的内容编码及内容编码的优先级顺序
Authorization 指用来告知服务器，用户代理的认证信息
Host 当一个 IP 下存在多个域名时，帮助服务器知道要请求的具体主机
User-Agent 会讲创建请求的浏览器和用户代理名称等信息传达给服务器
```


### 参考资料
[面试HTTP](https://gold.xitu.io/post/5872309261ff4b005c4580d4)